{% extends 'base.html' %}
{% load static %}

{% block title %}{{ job.title }} - JobHub Connect{% endblock %}

{% block content %}
<!-- Job Detail Header -->
<section class="hero-section py-5" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb bg-transparent p-0">
                        <li class="breadcrumb-item"><a href="{% url 'home' %}" class="text-white">Home</a></li>
                        <li class="breadcrumb-item"><a href="#" class="text-white">Jobs</a></li>
                        <li class="breadcrumb-item active text-white" aria-current="page">{{ job.title }}</li>
                    </ol>
                </nav>
                <h1 class="text-white fw-bold mb-3">{{ job.title }}</h1>
                <div class="d-flex flex-wrap gap-3 mb-4">
                    <span class="badge bg-light text-dark p-2">
                        <i class="fas fa-building me-2"></i>{{ job.company }}
                    </span>
                    <span class="badge bg-light text-dark p-2">
                        <i class="fas fa-map-marker-alt me-2"></i>{{ job.location }}
                    </span>
                    <span class="badge bg-success p-2">
                        <i class="fas fa-clock me-2"></i>{{ job.get_job_type_display }}
                    </span>
                    {% if job.salary %}
                    <span class="badge bg-warning text-dark p-2">
                        <i class="fas fa-money-bill-wave me-2"></i>${{ job.salary|floatformat:0 }}/year
                    </span>
                    {% endif %}
                </div>
                <div class="d-flex gap-3">
                    <button class="btn btn-light btn-lg" onclick="applyForJob()">
                        <i class="fas fa-paper-plane me-2"></i>Apply Now
                    </button>
                    <button class="btn btn-outline-light btn-lg">
                        <i class="fas fa-bookmark me-2"></i>Save Job
                    </button>
                </div>
            </div>
            <div class="col-lg-4 text-center">
                <div class="bg-white rounded-3 p-4 shadow">
                    <h5 class="fw-bold mb-3">Job Summary</h5>
                    <div class="text-start">
                        <p class="mb-2"><i class="fas fa-calendar me-2 text-primary"></i><strong>Posted:</strong> {{ job.posted_date|date:"M d, Y" }}</p>
                        <p class="mb-2"><i class="fas fa-briefcase me-2 text-primary"></i><strong>Type:</strong> {{ job.get_job_type_display }}</p>
                        <p class="mb-2"><i class="fas fa-layer-group me-2 text-primary"></i><strong>Category:</strong> {{ job.get_category_display }}</p>
                        <p class="mb-2"><i class="fas fa-user-tie me-2 text-primary"></i><strong>Experience:</strong> Mid Level</p>
                        <p class="mb-0"><i class="fas fa-file-alt me-2 text-primary"></i><strong>Applications:</strong> 24 applied</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Job Details -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <!-- Job Description -->
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-body">
                        <h4 class="fw-bold mb-4">
                            <i class="fas fa-file-alt text-primary me-2"></i>Job Description
                        </h4>
                        <p>{{ job.description|linebreaks }}</p>
                    </div>
                </div>

                <!-- Requirements -->
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-body">
                        <h4 class="fw-bold mb-4">
                            <i class="fas fa-list-check text-primary me-2"></i>Requirements
                        </h4>
                        {{ job.requirements|linebreaks }}
                    </div>
                </div>

                <!-- About Company -->
                <div class="card border-0 shadow-sm">
                    <div class="card-body">
                        <h4 class="fw-bold mb-4">
                            <i class="fas fa-building text-primary me-2"></i>About {{ job.company }}
                        </h4>
                        <p>{{ job.company }} is a leading company in the industry, committed to innovation and excellence. We value our employees and provide a supportive work environment for professional growth.</p>
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <p class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Competitive salary</p>
                                <p class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Health insurance</p>
                                <p class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Flexible hours</p>
                            </div>
                            <div class="col-md-6">
                                <p class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Remote work options</p>
                                <p class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Training & development</p>
                                <p class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Team events</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="col-lg-4">
                <!-- Application Form -->
                <div class="card border-0 shadow-sm sticky-top" style="top: 20px;">
                    <div class="card-body">
                        <h5 class="fw-bold mb-4">Apply for this position</h5>
                        
                        <div class="mb-3">
                            <label class="form-label">Full Name *</label>
                            <input type="text" class="form-control" placeholder="Your full name">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Email Address *</label>
                            <input type="email" class="form-control" placeholder="your.email@example.com">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" placeholder="+1 234 567 890">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Cover Letter</label>
                            <textarea class="form-control" rows="4" placeholder="Tell us why you're a good fit..."></textarea>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label">Upload Resume/CV *</label>
                            <input type="file" class="form-control">
                            <small class="text-muted">PDF, DOC, DOCX up to 5MB</small>
                        </div>
                        
                        <button class="btn btn-primary w-100 btn-lg" onclick="submitApplication()">
                            <i class="fas fa-paper-plane me-2"></i>Submit Application
                        </button>
                        
                        <p class="text-muted small mt-3">
                            <i class="fas fa-info-circle me-1"></i>
                            By applying, you agree to our Terms and Privacy Policy.
                        </p>
                    </div>
                </div>

                <!-- Similar Jobs -->
                <div class="card border-0 shadow-sm mt-4">
                    <div class="card-body">
                        <h5 class="fw-bold mb-3">Similar Jobs</h5>
                        
                        <div class="similar-job mb-3">
                            <h6 class="fw-bold mb-1">Frontend Developer</h6>
                            <p class="text-muted small mb-1">DesignStudio • New York</p>
                            <p class="text-success fw-bold mb-0">$75,000/year</p>
                        </div>
                        
                        <div class="similar-job mb-3">
                            <h6 class="fw-bold mb-1">Product Designer</h6>
                            <p class="text-muted small mb-1">TechCorp • Remote</p>
                            <p class="text-success fw-bold mb-0">$85,000/year</p>
                        </div>
                        
                        <div class="similar-job">
                            <h6 class="fw-bold mb-1">Web Designer</h6>
                            <p class="text-muted small mb-1">Creative Agency • London</p>
                            <p class="text-success fw-bold mb-0">$70,000/year</p>
                        </div>
                        
                        <a href="#" class="btn btn-outline-primary btn-sm w-100 mt-3">
                            View More Jobs <i class="fas fa-arrow-right ms-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- JavaScript for interactivity -->
<script>
function applyForJob() {
    document.querySelector('.sticky-top').scrollIntoView({
        behavior: 'smooth'
    });
    document.querySelector('input[type="text"]').focus();
}

function submitApplication() {
    const btn = document.querySelector('.btn-primary.w-100');
    const originalText = btn.innerHTML;
    
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Submitting...';
    btn.disabled = true;
    
    // Simulate API call
    setTimeout(() => {
        btn.innerHTML = '<i class="fas fa-check me-2"></i>Application Submitted!';
        btn.classList.remove('btn-primary');
        btn.classList.add('btn-success');
        
        // Show success message
        alert('Application submitted successfully! We will contact you soon.');
    }, 1500);
}
</script>
{% endblock %}